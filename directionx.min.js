/*
 directionX.js (c) 2019 Ogewan, MIT*/
 var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(h){var g=0;return function(){return g<h.length?{done:!1,value:h[g++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.makeIterator=function(h){var g="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return g?g.call(h):$jscomp.arrayIterator(h)};$jscomp.arrayFromIterator=function(h){for(var g,E=[];!(g=h.next()).done;)E.push(g.value);return E};
 $jscomp.arrayFromIterable=function(h){return h instanceof Array?h:$jscomp.arrayFromIterator($jscomp.makeIterator(h))};
 direction=function d(h,g){var N=this;h=void 0===h?[]:h;g=void 0===g?{}:g;var G=function(){if(e){c[0].style.paddingLeft=(c[1].width-300)/2+"px";var a=Math.floor((Date.now()-e.str)/1E3*e.lne)/e.lne,b=e.clr;e.ctx.save();e.ctx.clearRect(0,0,300,c[1].height);e.ctx.translate(150,c[1].height/2);e.ctx.rotate(2*Math.PI*a%(2*Math.PI));3==b.length?b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]:z(b,16);for(a=0;a<e.lne;a++)e.ctx.beginPath(),e.ctx.rotate(2*Math.PI/e.lne),e.ctx.moveTo(e.dia/10,0),e.ctx.lineTo(e.dia/4,0),e.ctx.lineWidth=
 e.dia/30,e.ctx.strokeStyle=b,e.ctx.stroke();e.ctx.restore();A?F(G):e.ctx.clearRect(0,0,300,c[1].height)}},H=function(a,b){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===b||void 0===b||0>=b)b=400;0>a.y&&(a.y=window.innerHeight||t.clientHeight||B.clientHeight);0>a.x&&(a.x=window.innerWidth||t.clientWidth||B.clientWidth);var c={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-t.scrollLeft,y:void 0!==
 window.pageYOffset?a.y-window.pageYOffset:a.y-t.scrollTop};if(c=={x:0,y:0})return c;var f=function(a,b,c){window.scrollBy(Math.floor(a.x)/b,Math.floor(a.y)/b);c+1<5*b&&(C=window.setTimeout(f,5,a,b,c+1))};C=window.setTimeout(f,5,c,Math.floor(b/5),0);return c},I=function(a){u.clearRect(0,0,c[1].width,c[1].height);m.run("slidn");if(k.sz)var b=[k.sz.w,k.sz.h];else switch(k.scl){case 1:dif=c[1].width/a.width;b=[c[1].width,a.height*dif];break;case 2:dif=c[1].height/a.height;b=[a.width*dif,c[1].height];
 break;default:b=k.scl?[c[1].width,c[1].height]:[a.width,a.height]}c[1].width=b[0];c[1].height=b[1];e&&(c[0].height=b[1]);u.drawImage.apply(u,[a,0,0].concat($jscomp.arrayFromIterable(b)));A=!1;D&&H();m.run("slidd")},w=function(a){var b=[a.width,a.height],l=f[a.virID],e=function(b){l&&(l.ib=b);a.master&&I(b)};if(a.ui)l=a;else{v.clearRect(0,0,c[2].width,c[2].height);c[2].width=b[0];c[2].height=b[1];v.drawImage(a,0,0);try{l.ui=v.getImageData.apply(v,[0,0].concat($jscomp.arrayFromIterable(b)))}catch(Q){return console.log("Cannot get imageData from cross-origin"),
 b=c[2].transferToImageBitmap(),e(b)}}J?(b=J.createKernel(g.shader||function(a){var b=4*(this.thread.x+this.constants.w*(this.constants.h-this.thread.y));this.color(a[b]/256,a[b+1]/256,a[b+2]/256,a[b+3]/256)}).setConstants({w:b[0],h:b[1]}).setOutput(b).setGraphical(!0),b(l.ui.data),createImageBitmap(b.canvas).then(e)):(b=g.pixelfn,createImageBitmap(b?b(l.ui):l.ui).then(e))},p=function(a){A=!0;F(G);m.run("start");a=Math.min(Math.max(0,a),f.length-1);f[a].ib?f[a].st!=f.shaderTime?w(f[a]):I(f[a].ib):
 (u.clearRect(0,0,c[1].width,c[1].height),x.virID=a,x.src=k.dir+f[a].s);n=a;var b,l=0;for(b=a-1;l<k.irb&&0<=b;b--)if(!f[b].ib)if(f[b].st!=f.shaderTime)w(f[b]);else{var e=l,g=k.dir+f[b].s;y[e].virID=b;y[e].src=g;l++}for(b=a+1;l<k.itb&&b<f.length;b++)f[b].ib||(f[b].st!=f.shaderTime?w(f[b]):(a=l,e=k.dir+f[b].s,y[a].virID=b,y[a].src=e,l++))},K=function(a,b){if(a)for(var c in b)a.hasOwnProperty(c)&&(a[c]=b[c])},r=function(a){return Array(a).fill(1).map(function(a,c){var b=new Image;b.unique=c;b.virID=-1;
 b.addEventListener("load",w.bind(null,b));return b})},L=function(a){var b=Date.now();a=("string"==typeof a?a.split(" "):a).map(function(a,c,e){return{s:a,st:b,d:c?c==e.length-1?1:0:-1}});a.shaderTime=b;return a},O=function(){try{jQuery.fn.direction=function(a,b){return this.each(function(){b.anchor=$(this);d(a,b)})}}catch(a){console.log(a)}},q=document,B=q.body,t=q.documentElement,z=parseInt,F=window.requestAnimationFrame,P=g.overwrite||0,M=g.anchor||B,f=L(h),A=!0,C=-1,n=-1,c={0:g.disableSpin?null:
 q.createElement("canvas"),1:q.createElement("canvas"),2:new OffscreenCanvas(640,480)},e=c[0]?{ctx:c[0].getContext("2d"),clr:g.color||"#373737",str:Date.now(),lne:g.lines||16,rte:g.rate||1E3/30,dia:g.diameter||250,lbk:g.loaderback||"#FFF",dat:Date.now(),sav:[]}:null,k={dir:g.dir||"",irb:g.imgprebuffer||5,itb:g.imgpostbuffer||5,bck:g.back||"#FFF",sz:g.size||0,scl:0},y=r(k.itb+k.irb),x=r(1)[0],D=!0,u=c[1].getContext("2d"),v=c[2].getContext("2d"),m={run:function(a){for(var b=0;b<m[a].length;b++)m[a][b]()},
 start:[],slidn:[],slidd:[]};if(g.gpu){r=new OffscreenCanvas(640,480);q=r.getContext("webgl2",{premultipliedAlpha:!1});var J=new g.gpu({canvas:r,webGl:q})}window.jQuery&&O();this.canvi=c;this.cb=m;this.cnl=function(){window.clearTimeout(C)};this.swap=function(a,b,c){f=Array.isArray(a)?L(a):f;b&&(K(e,b),K(k,b));N.go(c||0)};this.count=function(){return f.length};this.current=function(){return n};this.callback=function(a,b,c,e){if(null===a||void 0===a)return m.slidn;a={"-1":m.start,0:m.slidn,1:m.slidd}[c||
 0];if(e)return a.splice(c||a.length-1,1);if(null===b||void 0===b)return null===c||void 0===c?a:a[c];null===c||void 0===c?a.push(b):a[c]=b;return 1};this.go=function(a){a=null===a||void 0===a?0:z(a,10);a=isNaN(a)?0:a;p(Math.floor(Math.max(0,Math.min(f.length-1,a))));return a};this.prev=function(){var a=n-1;0<=a&&p(a);return a};this.next=function(){var a=n+1;a<f.length&&p(a);return a};this.frst=function(){0<=n&&p(0);return 0};this.last=function(){p(f.length-1);return f.length-1};this.rand=function(){var a=
 Math.floor(Math.random()*(f.length-1));p(a);return a};this.data=function(a){a=null===a||void 0===a?n:z(a,10);return isNaN(a)?f[n]:f[Math.floor(Math.max(0,Math.min(f.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(D=a);return D};this.scrollTo=function(a,b){return H(a,b)};e&&(c[0].height=480,c[0].style.background=e.lbk,c[0].style.paddingLeft="170px",c[0].style.zIndex=0,c[0].style.position="absolute",M.appendChild(c[0]));x.master=!0;x.unique=-1;p(k.startpage||P);c[1].height=480;c[1].width=
 640;c[1].background=k.bck;c[1].style.zIndex=1;c[1].style.position="relative";M.appendChild(c[1])};