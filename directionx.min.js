/*
 directionX.js (c) 2021 Ogewan, MIT*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(l){return l.raw=l};$jscomp.createTemplateTagFirstArgWithRaw=function(l,f){l.raw=f;return l};$jscomp.arrayIteratorImpl=function(l){var f=0;return function(){return f<l.length?{done:!1,value:l[f++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.makeIterator=function(l){var f="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return f?f.call(l):$jscomp.arrayIterator(l)};
$jscomp.arrayFromIterator=function(l){for(var f,I=[];!(f=l.next()).done;)I.push(f.value);return I};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};
direction=function d(l,f){var S=this;l=void 0===l?[]:l;f=void 0===f?{}:f;var K=function(){if(k){e[0].style.paddingLeft=(e[1].width-300)/2+"px";var a=Math.floor((Date.now()-k.str)/1E3*k.lne)/k.lne,b=k.clr;k.ctx.save();k.ctx.clearRect(0,0,300,e[1].height);k.ctx.translate(150,e[1].height/2);k.ctx.rotate(2*Math.PI*a%(2*Math.PI));3==b.length?b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]:C(b,16);for(a=0;a<k.lne;a++)k.ctx.beginPath(),k.ctx.rotate(2*Math.PI/k.lne),k.ctx.moveTo(k.dia/10,0),k.ctx.lineTo(k.dia/4,0),k.ctx.lineWidth=
k.dia/30,k.ctx.strokeStyle=b,k.ctx.stroke();k.ctx.restore();D?J(K):k.ctx.clearRect(0,0,300,e[1].height)}},L=function(a,b){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===b||void 0===b||0>=b)b=400;0>a.y&&(a.y=window.innerHeight||u.clientHeight||E.clientHeight);0>a.x&&(a.x=window.innerWidth||u.clientWidth||E.clientWidth);var c={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-u.scrollLeft,y:void 0!==
window.pageYOffset?a.y-window.pageYOffset:a.y-u.scrollTop};if(c=={x:0,y:0})return c;var h=function(m,p,v){window.scrollBy(Math.floor(m.x)/p,Math.floor(m.y)/p);v+1<5*p&&(F=window.setTimeout(h,5,m,p,v+1))};F=window.setTimeout(h,5,c,Math.floor(b/5),0);return c},N=function(a){var b=a.width,c=a.height;w.clearRect(0,0,e[1].width,e[1].height);q.run("slidn");if(n.sz){var h=n.sz,m=h.w,p=h.h,v=h.s2w;h=h.s2h;var M=difh=1;m=m||e[1].width;p=p||e[1].height;v&&(M=m/b);h&&(difh=p/c);e[1].width=m*difh;e[1].height=
p*M}else e[1].width=b,e[1].height=c;k&&(e[0].height=e[1].height);w.drawImage.apply(w,[a,0,0,e[1].width,e[1].height]);D=!1;G&&L();q.run("slidd")},y=function(a){var b=[a.width,a.height],c=g[a.virID],h=function(m){c&&(c.ib=m);a.master&&N(m)};if(a.ui)c=a;else{x.clearRect(0,0,e[2].width,e[2].height);e[2].width=b[0];e[2].height=b[1];x.drawImage(a,0,0);try{c.ui=x.getImageData.apply(x,[0,0].concat($jscomp.arrayFromIterable(b)))}catch(m){return console.log("Cannot get imageData from cross-origin"),b=e[2].transferToImageBitmap(),
h(b)}}H?(b=H.createKernel(f.shader||function(m){var p=4*(this.thread.x+this.constants.w*(this.constants.h-this.thread.y));this.color(m[p]/256,m[p+1]/256,m[p+2]/256,m[p+3]/256)}).setConstants({w:b[0],h:b[1]}).setOutput(b).setGraphical(!0),b.canvas.width=1,b.canvas.height=1,b.maxTexSize=[1,1],b(c.ui.data),createImageBitmap(b.canvas).then(h)):(b=f.pixelfn,createImageBitmap(b?b(c.ui):c.ui).then(h))},t=function(a){if(g.length){D=!0;J(K);q.run("start");a=Math.min(Math.max(0,a),g.length-1);g[a].ib?g[a].st!=
g.shaderTime?y(g[a]):N(g[a].ib):(w.clearRect(0,0,e[1].width,e[1].height),z.virID=a,z.src=n.dir+g[a].s);r=a;var b,c=0;for(b=a-1;c<n.irb&&0<=b;b--)if(!g[b].ib)if(g[b].st!=g.shaderTime)y(g[b]);else{var h=c,m=n.dir+g[b].s;A[h].virID=b;A[h].src=m;c++}for(b=a+1;c<n.itb&&b<g.length;b++)g[b].ib||(g[b].st!=g.shaderTime?y(g[b]):(a=c,h=n.dir+g[b].s,A[a].virID=b,A[a].src=h,c++))}},O=function(a,b){if(a)for(var c in b)a.hasOwnProperty(c)&&(a[c]=b[c])},P=function(a){return Array(a).fill(1).map(function(b,c){var h=
new Image;h.unique=c;h.virID=-1;h.addEventListener("load",y.bind(null,h));return h})},Q=function(a){var b=Date.now();a=("string"==typeof a?a.split(" "):a).map(function(c,h,m){return{s:c,st:b,d:h?h==m.length-1?1:0:-1}});a.shaderTime=b;return a},T=function(){try{jQuery.fn.direction=function(a,b){return this.each(function(){b.anchor=$(this);d(a,b)})}}catch(a){console.log(a)}},B=document,E=B.body,u=B.documentElement,C=parseInt,J=window.requestAnimationFrame,U=f.overwrite||0,R=f.anchor||E,g=Q(l),D=!0,
F=-1,r=-1,e={0:f.disableSpin?null:B.createElement("canvas"),1:B.createElement("canvas"),2:new OffscreenCanvas(640,480)},k=e[0]?{ctx:e[0].getContext("2d"),clr:f.color||"#373737",str:Date.now(),lne:f.lines||16,rte:f.rate||1E3/30,dia:f.diameter||250,lbk:f.loaderback||"#FFF",dat:Date.now(),sav:[]}:null,n={dir:f.dir||"",irb:f.imgprebuffer||5,itb:f.imgpostbuffer||5,bck:f.back||"#FFF",sz:f.size||0},A=P(n.itb+n.irb),z=P(1)[0],G=!0,w=e[1].getContext("2d"),x=e[2].getContext("2d"),q={run:function(a){for(var b=
0;b<q[a].length;b++)q[a][b]()},start:[],slidn:[],slidd:[]},H;window.jQuery&&T();this.canvi=e;this.cb=q;this.setupShaders=function(a){if(a.gpu){var b=new OffscreenCanvas(640,480),c=b.getContext("webgl2",{premultipliedAlpha:!1});H=new a.gpu({canvas:b,webGl:c})}a.shader&&(f.shader=a.shader);a.pixelfn&&(f.pixelfn=a.pixelfn)};this.cnl=function(){window.clearTimeout(F)};this.swap=function(a,b,c){g=Array.isArray(a)?Q(a):g;b&&(O(k,b),O(n,b));S.go(c||0)};this.count=function(){return g.length};this.current=
function(){return r};this.callback=function(a,b,c,h){if(null===a||void 0===a)return q.slidn;a={"-1":q.start,0:q.slidn,1:q.slidd}[c||0];if(h)return a.splice(c||a.length-1,1);if(null===b||void 0===b)return null===c||void 0===c?a:a[c];null===c||void 0===c?a.push(b):a[c]=b;return 1};this.go=function(a){a=null===a||void 0===a?0:C(a,10);a=isNaN(a)?0:a;t(Math.floor(Math.max(0,Math.min(g.length-1,a))));return a};this.prev=function(){var a=r-1;0<=a&&t(a);return a};this.next=function(){var a=r+1;a<g.length&&
t(a);return a};this.frst=function(){0<=r&&t(0);return 0};this.last=function(){t(g.length-1);return g.length-1};this.rand=function(){var a=Math.floor(Math.random()*(g.length-1));t(a);return a};this.data=function(a){a=null===a||void 0===a?r:C(a,10);return isNaN(a)?g[r]:g[Math.floor(Math.max(0,Math.min(g.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(G=a);return G};this.scrollTo=function(a,b){return L(a,b)};k&&(e[0].height=480,e[0].style.background=k.lbk,e[0].style.paddingLeft="170px",
e[0].style.zIndex=0,e[0].style.position="absolute",R.appendChild(e[0]));n.sz&&(n.sz={w:n.sz.width,h:n.sz.height,s2w:n.sz.scaleToWidth,s2h:n.sz.scaleToHeight});z.master=!0;z.unique=-1;t(n.startpage||U);e[1].height=480;e[1].width=640;e[1].background=n.bck;e[1].style.zIndex=1;e[1].style.position="relative";R.appendChild(e[1])};