/*
 direction.js (c) 2015 Ogewan, MIT*/
 direction=function(p,q,y,b){if(void 0===p)return-1;y=y||0;b=b||{};var w=document,z=w.body,x=w.documentElement,r=parseInt;if(void 0===q||null==q)q=z;var f=p.slice().map(function(a){return{s:a}}),A=!0,B=-1,m=-1,l={lines:b.lines||16,rate:b.rate||1E3/30,dia:b.diameter||250,back:b.loaderback||"#FFF",color:b.color||"#373737"},k={dir:b.dir||"",irb:b.imgprebuffer||5,itb:b.imgpostbuffer||5,back:b.back||"#FFF",sz:b.size||0,scl:0},t=[],u=[],g=new Image,D=!0,e=[w.createElement("canvas"),w.createElement("canvas")],
 v=e[1].getContext("2d"),h={run:function(a){for(var d=0;d<h[a].length;d++)h[a][d]()},start:[],slidn:[],slidd:[]},E={ctx:e[0].getContext("2d"),color:l.color,start:Date.now(),lines:l.lines,dia:l.dia,rate:l.rate},F=function(a){e[0].style.paddingLeft=(e[1].width-300)/2+"px";var d=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,c=a.color.substr(1);a.ctx.save();a.ctx.clearRect(0,0,300,e[1].height);a.ctx.translate(150,e[1].height/2);a.ctx.rotate(2*Math.PI*d);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+
 c[2]);d=r(c.substr(0,2),16).toString();var b=r(c.substr(2,2),16).toString();c=r(c.substr(4,2),16).toString();for(var f=0;f<a.lines;f++)a.ctx.beginPath(),a.ctx.rotate(2*Math.PI/a.lines),a.ctx.moveTo(a.dia/10,0),a.ctx.lineTo(a.dia/4,0),a.ctx.lineWidth=a.dia/30,a.ctx.strokeStyle="rgba("+d+","+b+","+c+","+f/a.lines+")",a.ctx.stroke();a.ctx.restore();A?window.setTimeout(F,a.rate,E):a.ctx.clearRect(0,0,300,e[1].height)},G=function(a,d){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||
 void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===d||void 0===d||0>=d)d=400;0>a.y&&(a.y=window.innerHeight||x.clientHeight||z.clientHeight);0>a.x&&(a.x=window.innerWidth||x.clientWidth||z.clientWidth);var c={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-x.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-x.scrollTop};if(c=={x:0,y:0})return c;var b=function(a,d,c){window.scrollBy(Math.floor(a.x)/d,Math.floor(a.y)/d);c+1<5*d&&(B=window.setTimeout(b,
 5,a,d,c+1))};B=window.setTimeout(b,5,c,Math.floor(d/5),0);return c};p=function(){f[this.virID].ld=!0};var n=function(a,d){A=!0;window.setTimeout(F,l.rate,E);h.run("start");0>d&&(d=0);d>=f.length&&(d=f.length-1);if(!(0>d)){f[d].ld||v.clearRect(0,0,e[1].width,e[1].height);a.virID=d;a.src=k.dir+f[d].s;m=d;var c=0,b;for(b=d-1;b>d-k.irb-1&&0<=b;b--)f[b].ld||(u[c].virID=b,u[c].src=k.dir+f[b].s,c++);c=0;for(b=d+1;b<k.itb+d+1&&b<f.length;b++)f[b].ld||(t[c].virID=b,t[c].src=k.dir+f[b].s,c++)}},H=function(a,
 b){for(var d in b)a.hasOwnProperty(d)&&(a[d]=b[d])};b=function(){try{jQuery.fn.direction=function(a,b,c){return this.each(function(){direction(a,$(this),b,c)})}}catch(a){console.log(a)}};window.jQuery&&b();this.canvi=e;this.cb=h;this.cnl=function(){window.clearTimeout(B)};this.swap=function(a,b,c){f=Array.isArray(a)?a.slice().map(function(b,d){return{s:b,d:d?d==a.length-1?1:0:-1}}):f;b&&(H(l,b),H(k,b));this.go(c||0)};this.count=function(){return f.length};this.current=function(){return m};this.callback=
 function(a,b,c){if(null===a||void 0===a)return h.slidn;if(null===b||void 0===b)return null===c||void 0===c?a?0<a?h.slidd[c]:h.start[c]:h.slidn[c]:a?0<a?h.slidd:h.start:h.slidn;!a||null!==c&&void 0!==c?null!==c&&void 0!==c||h.slidn.push(b):0<a?h.slidd.push(b):h.start.push(b);return 1};this.go=function(a){a=null===a||void 0===a?0:r(a,10);a=isNaN(a)?0:a;n(g,Math.floor(Math.max(0,Math.min(f.length-1,a))));return a};this.prev=function(){var a=m-1;0<=a&&n(g,a);return a};this.next=function(){var a=m+1;a<
 f.length&&n(g,a);return a};this.frst=function(){0<=m&&n(g,0);return 0};this.last=function(){n(g,f.length-1);return f.length-1};this.rand=function(){var a=Math.floor(Math.random()*(f.length-1));n(g,a);return a};this.data=function(a){a=null===a||void 0===a?m:r(a,10);return isNaN(a)?f[m]:f[Math.floor(Math.max(0,Math.min(f.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(D=a);return D};this.scrollTo=function(a,b){return G(a,b)};e[0].height=480;e[0].style.background=l.back;e[0].style.paddingLeft=
 "170px";e[0].style.zIndex=0;e[0].style.position="absolute";q.appendChild(e[1]);window.setTimeout(F,l.rate,E);g=new Image;g.virID=-1;g.addEventListener("load",function(){f[g.virID].ld?v.clearRect(0,0,e[1].width,e[1].height):f[g.virID].ld=!0;h.run("slidn");if(k.sz)v.drawImage(g,0,0,k.sz.w,k.sz.h);else{switch(k.scl){case 1:var a=e[1].width/g.width;a=[e[1].width,g.height*a];break;case 2:a=e[1].height/g.height;a=[g.width*a,e[1].height];break;default:a=k.scl?[e[1].width,e[1].height]:[g.width,g.height]}e[1].width=
 a[0];e[1].height=e[0].height=a[1];v.drawImage.apply(v,[g,0,0].concat(a))}A=0;D&&G();h.run("slidd")},!1);for(b=0;b<f.length;b++)f[b].d=b?b==f.length-1?1:0:-1,f[b].ld=!1;for(b=0;b<k.irb;b++)u.push(new Image),u[b].virID=-1,u[b].addEventListener("load",p,!1);for(b=0;b<k.itb;b++)t.push(new Image),t[b].virID=-1,t[b].addEventListener("load",p,!1);n(g,k.startpage||y);e[1].height=480;e[1].width=640;e[1].background=k.back;e[1].style.zIndex=1;e[1].style.position="relative";q.appendChild(e[1])};