/*
 direction.js (c) 2015 Seun Ogedengbe, MIT*/
 direction=function(q,m,u,d){if(void 0===q)return-1;u=u||0;d=d||{};if(void 0===m||null==m)m=document.body;var e=q.slice(),v=!0,n=-1,l={lines:d.lines||16,rate:d.rate||1E3/30,diameter:d.diameter||250,back:d.loaderback||"#FFF",color:d.color||"#373737"},h={dir:d.dir||"assets/",imgprebuffer:d.imgprebuffer||5,imgpostbuffer:d.imgpostbuffer||5,back:d.back||"#FFF"},r=[],t=[],k=new Image,w=!0,f=[document.createElement("canvas"),document.createElement("canvas")],x=f[1].getContext("2d"),g={run:function(a){for(var b=
    0;b<g[a].length;b++)g[a][b]()},start:[],slidn:[],slidd:[]},y={context:f[0].getContext("2d"),color:l.color,start:Date.now(),lines:l.lines,diameter:l.diameter,rate:l.rate},z=function(a){f[0].style.paddingLeft=(f[1].width-300)/2+"px";var b=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,c=a.color.substr(1);a.context.save();a.context.clearRect(0,0,300,f[1].height);a.context.translate(150,f[1].height/2);a.context.rotate(2*Math.PI*b);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);b=parseInt(c.substr(0,
    2),16).toString();var d=parseInt(c.substr(2,2),16).toString();c=parseInt(c.substr(4,2),16).toString();for(var e=0;e<a.lines;e++)a.context.beginPath(),a.context.rotate(2*Math.PI/a.lines),a.context.moveTo(a.diameter/10,0),a.context.lineTo(a.diameter/4,0),a.context.lineWidth=a.diameter/30,a.context.strokeStyle="rgba("+b+","+d+","+c+","+e/a.lines+")",a.context.stroke();a.context.restore();v?window.setTimeout(z,a.rate,y):a.context.clearRect(0,0,300,f[1].height)},A=function(a,b){if(null===a||void 0===a)a=
    {x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===b||void 0===b||0>=b)b=400;0>a.y&&(a.y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);0>a.x&&(a.x=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);var c={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-
    document.documentElement.scrollTop};if(c=={x:0,y:0})return c;var e=function(a,b,c){window.scrollBy(Math.floor(a.x)/b,Math.floor(a.y)/b);c+1<5*b&&window.setTimeout(e,5,a,b,c+1)};window.setTimeout(e,5,c,Math.floor(b/5),0);return c};q=function(){e[this.imaginaryID].loaded=!0};var p=function(a,b){v=!0;window.setTimeout(z,l.rate,y);g.run("start");0>b&&(b=0);b>=e.length&&(b=e.length-1);e[b].loaded||x.clearRect(0,0,f[1].width,f[1].height);a.imaginaryID=b;a.src=h.dir+e[b];n=b;var c=0,d;for(d=b-1;d>b-h.imgprebuffer-
    1&&0<=d;d--)e[d].loaded||(t[c].imaginaryID=d,t[c].src=h.dir+e[d],c++);c=0;for(d=b+1;d<h.imgpostbuffer+b+1&&d<e.length;d++)e[d].loaded||(r[c].imaginaryID=d,r[c].src=h.dir+e[d],c++)},B=function(a,b){for(var c in b)a.hasOwnProperty(c)&&(a[c]=b[c])};jq=function(){try{jQuery.fn.direction=function(a,b,c){return this.each(function(){direction(a,$(this),b,c)})}}catch(a){console.log("failed to attach to jQuery")}};window.jQuery&&jq();this.canvi=f;this.cb=g;this.hotswap=function(a,b,c){e=a||e;b&&(B(l,b),B(h,
    b));this.go(c||0)};this.count=function(){return e.length};this.current=function(){return n};this.callback=function(a,b,c){if(null===a||void 0===a)return g.slidn;if(null===b||void 0===b)return null===c||void 0===c?a?0<a?g.slidd[c]:g.start[c]:g.slidn[c]:a?0<a?g.slidd:g.start:g.slidn;!a||null!==c&&void 0!==c?null!==c&&void 0!==c||g.slidn.push(b):0<a?g.slidd.push(b):g.start.push(b);return 1};this.go=function(a){a=null===a||void 0===a?0:parseInt(a,10);a=isNaN(a)?0:a;p(k,Math.floor(Math.max(0,Math.min(e.length-
    1,a))));return a};this.prev=function(){var a=n-1;0<=a&&p(k,a);return a};this.next=function(){var a=n+1;a<e.length&&p(k,a);return a};this.frst=function(){0<=n&&p(k,0);return 0};this.last=function(){p(k,e.length-1);return e.length-1};this.rand=function(){var a=Math.floor(Math.random()*(e.length-1));p(k,a);return a};this.data=function(a){a=null===a||void 0===a?n:parseInt(a,10);return isNaN(a)?e[n]:e[Math.floor(Math.max(0,Math.min(e.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(w=a);
    return w};this.scrollTo=function(a,b){return A(a,b)};f[0].height=480;f[0].style.background=l.back;f[0].style.paddingLeft="170px";f[0].style.zIndex=0;f[0].style.position="absolute";m?m.appendChild(f[0]):document.body.appendChild(f[0]);window.setTimeout(z,l.rate,y);k=new Image;k.imaginaryID=-1;k.addEventListener("load",function(){e[this.imaginaryID].loaded?x.clearRect(0,0,this.width,this.height):e[this.imaginaryID].loaded=!0;g.run("slidn");f[1].width=this.width;f[1].height=f[0].height=this.height;x.drawImage(this,
    0,0);v=0;w&&A();g.run("slidd")},!1);for(d=0;d<e.length;d++)e[d].desig=d?d==e.length-1?1:0:-1,e[d].loaded=!1;for(d=0;d<h.imgprebuffer;d++)t.push(new Image),t[d].imaginaryID=-1,t[d].addEventListener("load",q,!1);for(d=0;d<h.imgpostbuffer;d++)r.push(new Image),r[d].imaginaryID=-1,r[d].addEventListener("load",q,!1);p(k,h.startpage||u);f[1].height=480;f[1].width=640;f[1].background=h.back;f[1].style.zIndex=1;f[1].style.position="relative";m?m.appendChild(f[1]):document.body.appendChild(f[1])};