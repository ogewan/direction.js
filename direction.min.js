/*
 direction.js (c) 2015 Oluwaseun Ogedengbe, MIT seun40.github.io/direction.js/*/
var direction=function(c,k){if(void 0===c)return-1;if("string"===typeof c)c={parent:null,offset:0,loading:{lines:16,rate:1E3/30,width:250,height:250,xpos:.5,ypos:.5,back:"#FFF",color:"#373737"},config:{dir:"assets/",pagestartnum:!1,chapterstartnum:!1,imgprebuffer:5,imgpostbuffer:5,startpage:0,back:"#FFF"},pages:[{alt:"",hover:"",title:"",url:[c],release:0,note:"",perm:!1,anim8:!1}],chapters:[]};else if(Array.isArray(c)){for(var h={parent:null,offset:0,loading:{lines:16,rate:1E3/30,width:250,height:250,
xpos:.5,ypos:.5,back:"#FFF",color:"#373737"},config:{dir:"assets/",pagestartnum:!1,chapterstartnum:!1,imgprebuffer:5,imgpostbuffer:5,startpage:0,back:"#FFF"},pages:[],chapters:[]},b=0;b<c.length;b++)h.pages.push({alt:"",hover:"",title:"",url:c[b],release:0,note:"",perm:!1,anim8:!1});c=h}else if(void 0===c.pages[0].url)return-1;if(void 0===k||null==k)k=0;var e=c.pages,l=c.pages.length,n=-1,b=c.loading,t=c.config,p=[],q=[],g=new Image,u=!0,v={acW:300,acH:300},d=[document.createElement("canvas"),document.createElement("canvas")],
w=d[1].getContext("2d"),x=h=function(){return 0},r=h,y=h,z={context:d[0].getContext("2d"),color:b.color,start:Date.now(),lines:b.lines,cW:b.width,cH:b.height,acW:d[1].width,acH:d[1].height},A=function(a,b){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===b||void 0===b)b=400;0>a.y&&(a.y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);0>a.x&&(a.x=window.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth);var f={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-document.documentElement.scrollTop};if(f=={x:0,y:0})return f;var d=function(a,b,f){window.scrollBy(Math.floor(a.x)/b,Math.floor(a.y)/b);f+1<5*b&&window.setTimeout(d,5,a,b,f+1)};window.setTimeout(d,5,f,Math.floor(b/5),0);return f},h=function(){e[this.imaginaryID].loaded=!0},m=function(a,
b){x();e[b].loaded||w.clearRect(0,0,d[1].width,d[1].height);a.imaginaryID=b;a.src=e[b].url;for(var f=0,c=b-1;c>b-t.imgprebuffer-1&&0<=c;c--)e[c].loaded||(q[f].imaginaryID=c,q[f].src=e[c].url,f++);f=0;for(c=b+1;c<t.imgpostbuffer+b+1&&c<l;c++)e[c].loaded||(p[f].imaginaryID=c,p[f].src=e[c].url,f++)};this.count=function(){return l};this.current=function(){return n};this.callback=function(a,b){if(null===a||void 0===a)return r;if(null===b||void 0===b)return a?0<a?x:y:r;a?0<a?x=b:y=b:r=b;return 1};this.go=
function(a){a=null===a||void 0===a?0:parseInt(a,10);console.log(a);a=isNaN(a)?0:a;m(g,Math.floor(Math.max(0,Math.min(l-1,a))));return a};this.prev=function(){var a=n-1;0<=a&&m(g,a);return a};this.next=function(){var a=n+1;a<l&&m(g,a);return a};this.frst=function(){0<=n&&m(g,0);return 0};this.last=function(){m(g,l-1);return l-1};this.rand=function(){var a=Math.floor(Math.random()*(l-1));m(g,a);return a};this.scroll=function(a){return null===a||void 0===a?u:u=a};this.scrollTo=function(a,b){return A(a,
b)};d[0].height=480;d.width=640;d[0].style.background=b.back;d[0].style.zIndex=0;d[0].style.position="absolute";v=z;k?k.appendChild(d[0]):document.body.appendChild(d[0]);window.setInterval(function(a){var b=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,c=a.color.substr(1);a.context.save();a.context.clearRect(0,0,a.acW,a.acH);a.context.translate(a.acW/2,a.acH/2);a.context.rotate(2*Math.PI*b);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);for(var b=parseInt(c.substr(0,2),16).toString(),d=parseInt(c.substr(2,
2),16).toString(),c=parseInt(c.substr(4,2),16).toString(),e=0;e<a.lines;e++)a.context.beginPath(),a.context.rotate(2*Math.PI/a.lines),a.context.moveTo(a.cW/10,0),a.context.lineTo(a.cW/4,0),a.context.lineWidth=a.cW/30,a.context.strokeStyle="rgba("+b+","+d+","+c+","+e/a.lines+")",a.context.stroke();a.context.restore()},b.rate,z);g=new Image;g.imaginaryID=-1;g.addEventListener("load",function(){e[this.imaginaryID].loaded?w.clearRect(0,0,this.width,this.height):e[this.imaginaryID].loaded=!0;r();d[1].width=
d[0].width=v.acW=this.width;d[1].height=d[0].height=v.acH=this.height;w.drawImage(this,0,0);n=this.imaginaryID;u&&A();y()},!1);for(b=0;b<e.length;b++)e[b].desig=b?b==e.length-1?1:0:-1,e[b].loaded=!1;for(b=0;b<c.config.imgprebuffer;b++)q.push(new Image),q[b].imaginaryID=-1,q[b].addEventListener("load",h,!1);for(b=0;b<c.config.imgpostbuffer;b++)p.push(new Image),p[b].imaginaryID=-1,p[b].addEventListener("load",h,!1);d[1].height=480;d[1].width=640;d[1].background=t.back;d[1].style.zIndex=1;d[1].style.position=
"absolute";k?k.appendChild(d[1]):document.body.appendChild(d[1])};