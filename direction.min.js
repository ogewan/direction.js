/*
 direction.js (c) 2015 Ogewan, MIT*/
 direction=function(w,k){var m=document,x=m.body,u=m.documentElement,q=parseInt,y=window.requestAnimationFrame;w=w||[];k=k||{};owrite=k.overwrite||0;anchor=k.anchor||x;var e=w.slice().map(function(a){return{s:a}}),z=!0,A=-1,n=-1,b=[k.disableSpin?null:m.createElement("canvas"),m.createElement("canvas")],d=b[0]?{ctx:b[0].getContext("2d"),clr:k.color||"#373737",str:Date.now(),lne:k.lines||16,rte:k.rate||1E3/30,dia:k.diameter||250,bck:k.loaderback||"#FFF"}:null,l={dir:k.dir||"",irb:k.imgprebuffer||5,itb:k.imgpostbuffer||
 5,bck:k.back||"#FFF",sz:k.size||0,scl:0},r=[],t=[],f=new Image,B=!0,v=b[1].getContext("2d"),h={run:function(a){for(var c=0;c<h[a].length;c++)h[a][c]()},start:[],slidn:[],slidd:[]},D=function(){if(d){b[0].style.paddingLeft=(b[1].width-300)/2+"px";var a=Math.floor((Date.now()-d.str)/1E3*d.lne)/d.lne,c=d.clr.substr(1);d.ctx.save();d.ctx.clearRect(0,0,300,b[1].height);d.ctx.translate(150,b[1].height/2);d.ctx.rotate(2*Math.PI*a);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);a=q(c.substr(0,2),16).toString();
 var G=q(c.substr(2,2),16).toString();c=q(c.substr(4,2),16).toString();for(var e=0;e<d.lne;e++)d.ctx.beginPath(),d.ctx.rotate(2*Math.PI/d.lne),d.ctx.moveTo(d.dia/10,0),d.ctx.lineTo(d.dia/4,0),d.ctx.lineWidth=d.dia/30,d.ctx.strokeStyle="rgba("+a+","+G+","+c+","+e/d.lne+")",d.ctx.stroke();d.ctx.restore();z?y(D):d.ctx.clearRect(0,0,300,b[1].height)}},E=function(a,c){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};
 if(null===c||void 0===c||0>=c)c=400;0>a.y&&(a.y=window.innerHeight||u.clientHeight||x.clientHeight);0>a.x&&(a.x=window.innerWidth||u.clientWidth||x.clientWidth);var b={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-u.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-u.scrollTop};if(b=={x:0,y:0})return b;var e=function(a,c,b){window.scrollBy(Math.floor(a.x)/c,Math.floor(a.y)/c);b+1<5*c&&(A=window.setTimeout(e,5,a,c,b+1))};A=window.setTimeout(e,5,b,Math.floor(c/5),0);return b};
 m=function(){e[this.virID].ld=!0};var p=function(a,c){z=!0;y(D);h.run("start");0>c&&(c=0);c>=e.length&&(c=e.length-1);if(!(0>c)){e[c].ld||v.clearRect(0,0,b[1].width,b[1].height);a.virID=c;a.src=l.dir+e[c].s;n=c;var d=0,f;for(f=c-1;f>c-l.irb-1&&0<=f;f--)e[f].ld||(t[d].virID=f,t[d].src=l.dir+e[f].s,d++);d=0;for(f=c+1;f<l.itb+c+1&&f<e.length;f++)e[f].ld||(r[d].virID=f,r[d].src=l.dir+e[f].s,d++)}},F=function(a,c){if(a)for(var b in c)a.hasOwnProperty(b)&&(a[b]=c[b])},g=function(){try{jQuery.fn.direction=
 function(a,c,b){return this.each(function(){direction(a,$(this),c,b)})}}catch(a){console.log(a)}};window.jQuery&&g();this.canvi=b;this.cb=h;this.cnl=function(){window.clearTimeout(A)};this.swap=function(a,c,b){e=Array.isArray(a)?a.slice().map(function(c,b){return{s:c,d:b?b==a.length-1?1:0:-1}}):e;c&&(F(d,c),F(l,c));this.go(b||0)};this.count=function(){return e.length};this.current=function(){return n};this.callback=function(a,c,b){if(null===a||void 0===a)return h.slidn;if(null===c||void 0===c)return null===
 b||void 0===b?a?0<a?h.slidd[b]:h.start[b]:h.slidn[b]:a?0<a?h.slidd:h.start:h.slidn;!a||null!==b&&void 0!==b?null!==b&&void 0!==b||h.slidn.push(c):0<a?h.slidd.push(c):h.start.push(c);return 1};this.go=function(a){a=null===a||void 0===a?0:q(a,10);a=isNaN(a)?0:a;p(f,Math.floor(Math.max(0,Math.min(e.length-1,a))));return a};this.prev=function(){var a=n-1;0<=a&&p(f,a);return a};this.next=function(){var a=n+1;a<e.length&&p(f,a);return a};this.frst=function(){0<=n&&p(f,0);return 0};this.last=function(){p(f,
 e.length-1);return e.length-1};this.rand=function(){var a=Math.floor(Math.random()*(e.length-1));p(f,a);return a};this.data=function(a){a=null===a||void 0===a?n:q(a,10);return isNaN(a)?e[n]:e[Math.floor(Math.max(0,Math.min(e.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(B=a);return B};this.scrollTo=function(a,b){return E(a,b)};d&&(b[0].height=480,b[0].style.background=d.bck,b[0].style.paddingLeft="170px",b[0].style.zIndex=0,b[0].style.position="absolute");d&&anchor.appendChild(b[0]);
 y(D);f=new Image;f.virID=-1;f.addEventListener("load",function(){e[f.virID].ld?v.clearRect(0,0,b[1].width,b[1].height):e[f.virID].ld=!0;h.run("slidn");if(l.sz)var a=[l.sz.w,l.sz.h];else switch(l.scl){case 1:a=b[1].width/f.width;a=[b[1].width,f.height*a];break;case 2:a=b[1].height/f.height;a=[f.width*a,b[1].height];break;default:a=l.scl?[b[1].width,b[1].height]:[f.width,f.height]}b[1].width=a[0];b[1].height=a[1];d&&(b[0].height=a[1]);v.drawImage.apply(v,[f,0,0].concat(a));z=0;B&&E();h.run("slidd")},
 !1);for(g=0;g<e.length;g++)e[g].d=g?g==e.length-1?1:0:-1,e[g].ld=!1;for(g=0;g<l.irb;g++)t.push(new Image),t[g].virID=-1,t[g].addEventListener("load",m,!1);for(g=0;g<l.itb;g++)r.push(new Image),r[g].virID=-1,r[g].addEventListener("load",m,!1);p(f,l.startpage||owrite);b[1].height=480;b[1].width=640;b[1].background=l.bck;b[1].style.zIndex=1;b[1].style.position="relative";anchor.appendChild(b[1])};