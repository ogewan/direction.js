/*
 direction.js (c) 2015 Ogewan, MIT*/
 direction=function(q,m,u,b){if(void 0===q)return-1;u=u||0;b=b||{};if(void 0===m||null==m)m=document.body;var d=q.slice().map(function(a){return{s:a}}),v=!0,n=-1,l={lines:b.lines||16,rate:b.rate||1E3/30,diameter:b.diameter||250,back:b.loaderback||"#FFF",color:b.color||"#373737"},h={dir:b.dir||"assets/",irb:b.imgprebuffer||5,itb:b.imgpostbuffer||5,back:b.back||"#FFF"},r=[],t=[],k=new Image,w=!0,f=[document.createElement("canvas"),document.createElement("canvas")],x=f[1].getContext("2d"),g={run:function(a){for(var e=
    0;e<g[a].length;e++)g[a][e]()},start:[],slidn:[],slidd:[]},y={context:f[0].getContext("2d"),color:l.color,start:Date.now(),lines:l.lines,diameter:l.diameter,rate:l.rate},z=function(a){f[0].style.paddingLeft=(f[1].width-300)/2+"px";var e=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,c=a.color.substr(1);a.context.save();a.context.clearRect(0,0,300,f[1].height);a.context.translate(150,f[1].height/2);a.context.rotate(2*Math.PI*e);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);e=parseInt(c.substr(0,
    2),16).toString();var b=parseInt(c.substr(2,2),16).toString();c=parseInt(c.substr(4,2),16).toString();for(var d=0;d<a.lines;d++)a.context.beginPath(),a.context.rotate(2*Math.PI/a.lines),a.context.moveTo(a.diameter/10,0),a.context.lineTo(a.diameter/4,0),a.context.lineWidth=a.diameter/30,a.context.strokeStyle="rgba("+e+","+b+","+c+","+d/a.lines+")",a.context.stroke();a.context.restore();v?window.setTimeout(z,a.rate,y):a.context.clearRect(0,0,300,f[1].height)},A=function(a,e){if(null===a||void 0===a)a=
    {x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===e||void 0===e||0>=e)e=400;0>a.y&&(a.y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);0>a.x&&(a.x=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);var c={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-
    document.documentElement.scrollTop};if(c=={x:0,y:0})return c;var b=function(a,e,c){window.scrollBy(Math.floor(a.x)/e,Math.floor(a.y)/e);c+1<5*e&&window.setTimeout(b,5,a,e,c+1)};window.setTimeout(b,5,c,Math.floor(e/5),0);return c};q=function(){d[this.imaginaryID].loaded=!0};var p=function(a,e){v=!0;window.setTimeout(z,l.rate,y);g.run("start");0>e&&(e=0);e>=d.length&&(e=d.length-1);d[e].loaded||x.clearRect(0,0,f[1].width,f[1].height);a.imaginaryID=e;a.src=h.dir+d[e].s;n=e;var c=0,b;for(b=e-1;b>e-h.irb-
    1&&0<=b;b--)d[b].loaded||(t[c].imaginaryID=b,t[c].src=h.dir+d[b].s,c++);c=0;for(b=e+1;b<h.itb+e+1&&b<d.length;b++)d[b].loaded||(r[c].imaginaryID=b,r[c].src=h.dir+d[b].s,c++)},B=function(a,b){for(var c in b)a.hasOwnProperty(c)&&(a[c]=b[c])};b=function(){try{jQuery.fn.direction=function(a,b,c){return this.each(function(){direction(a,$(this),b,c)})}}catch(a){console.log("failed to attach to jQuery")}};window.jQuery&&b();this.canvi=f;this.cb=g;this.hotswap=function(a,b,c){d=a||d;b&&(B(l,b),B(h,b));this.go(c||
    0)};this.count=function(){return d.length};this.current=function(){return n};this.callback=function(a,b,c){if(null===a||void 0===a)return g.slidn;if(null===b||void 0===b)return null===c||void 0===c?a?0<a?g.slidd[c]:g.start[c]:g.slidn[c]:a?0<a?g.slidd:g.start:g.slidn;!a||null!==c&&void 0!==c?null!==c&&void 0!==c||g.slidn.push(b):0<a?g.slidd.push(b):g.start.push(b);return 1};this.go=function(a){a=null===a||void 0===a?0:parseInt(a,10);a=isNaN(a)?0:a;p(k,Math.floor(Math.max(0,Math.min(d.length-1,a))));
    return a};this.prev=function(){var a=n-1;0<=a&&p(k,a);return a};this.next=function(){var a=n+1;a<d.length&&p(k,a);return a};this.frst=function(){0<=n&&p(k,0);return 0};this.last=function(){p(k,d.length-1);return d.length-1};this.rand=function(){var a=Math.floor(Math.random()*(d.length-1));p(k,a);return a};this.data=function(a){a=null===a||void 0===a?n:parseInt(a,10);return isNaN(a)?d[n]:d[Math.floor(Math.max(0,Math.min(d.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(w=a);return w};
    this.scrollTo=function(a,b){return A(a,b)};f[0].height=480;f[0].style.background=l.back;f[0].style.paddingLeft="170px";f[0].style.zIndex=0;f[0].style.position="absolute";m?m.appendChild(f[0]):document.body.appendChild(f[0]);window.setTimeout(z,l.rate,y);k=new Image;k.imaginaryID=-1;k.addEventListener("load",function(){d[this.imaginaryID].loaded?x.clearRect(0,0,this.width,this.height):d[this.imaginaryID].loaded=!0;g.run("slidn");f[1].width=this.width;f[1].height=f[0].height=this.height;x.drawImage(this,
    0,0);v=0;w&&A();g.run("slidd")},!1);for(b=0;b<d.length;b++)d[b].desig=b?b==d.length-1?1:0:-1,d[b].loaded=!1;for(b=0;b<h.irb;b++)t.push(new Image),t[b].imaginaryID=-1,t[b].addEventListener("load",q,!1);for(b=0;b<h.itb;b++)r.push(new Image),r[b].imaginaryID=-1,r[b].addEventListener("load",q,!1);p(k,h.startpage||u);f[1].height=480;f[1].width=640;f[1].background=h.back;f[1].style.zIndex=1;f[1].style.position="relative";m?m.appendChild(f[1]):document.body.appendChild(f[1])};