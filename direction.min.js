/*
 direction.js (c) 2015 Oluwaseun Ogedengbe, MIT seun40.github.io/direction.js/*/
var direction=function(c,k){if(void 0===c)return-1;if("string"===typeof c)c={parent:null,offset:0,loading:{lines:16,rate:1E3/30,width:250,height:250,xpos:.5,ypos:.5,back:"#FFF",color:"#373737"},config:{dir:"assets/",pagestartnum:!1,chapterstartnum:!1,imgprebuffer:5,imgpostbuffer:5,startpage:0,back:"#FFF"},pages:[{alt:"",hover:"",title:"",url:[c],release:0,note:"",perm:!1,anim8:!1}],chapters:[]};else if(Array.isArray(c)){for(var g={parent:null,offset:0,loading:{lines:16,rate:1E3/30,width:250,height:250,
xpos:.5,ypos:.5,back:"#FFF",color:"#373737"},config:{dir:"assets/",pagestartnum:!1,chapterstartnum:!1,imgprebuffer:5,imgpostbuffer:5,startpage:0,back:"#FFF"},pages:[],chapters:[]},b=0;b<c.length;b++)g.pages.push({alt:"",hover:"",title:"",url:c[b],release:0,note:"",perm:!1,anim8:!1});c=g}else if(void 0===c.pages[0].url)return-1;if(void 0===k||null==k)k=0;var e=c.pages,h=c.pages.length,q=-1,b=c.loading,t=c.config,n=[],p=[],f=new Image,u={acW:300,acH:300},d=[document.createElement("canvas"),document.createElement("canvas")],
v=d[1].getContext("2d"),w=g=function(){return 0},r=g,x=g,g=function(){e[this.imaginaryID].loaded=!0},m=function(a,b){w();e[b].loaded||v.clearRect(0,0,d[1].width,d[1].height);a.imaginaryID=b;a.src=e[b].url;for(var l=0,c=b-1;c>b-t.imgprebuffer-1&&0<=c;c--)e[c].loaded||(p[l].imaginaryID=c,p[l].src=e[c].url,l++);l=0;for(c=b+1;c<t.imgpostbuffer+b+1&&c<h;c++)e[c].loaded||(n[l].imaginaryID=c,n[l].src=e[c].url,l++)};this.count=function(){return h};this.current=function(){return q};this.callback=function(a,
b){if(null===a||void 0===a)return r;if(null===b||void 0===b)return a?0<a?w:x:r;a?0<a?w=b:x=b:r=b;return 1};this.go=function(a){a=parseInt(a,1);a=isNaN(a)?0:a;m(f,Math.floor(Math.max(0,Math.min(h-1,a))));return a};this.prev=function(){var a=h-1;0<=a&&m(f,a);return a};this.next=function(){var a=q+1;a<h&&m(f,a);return a};this.frst=function(){0<=q&&m(f,0);return 0};this.last=function(){m(f,h-1);return h-1};this.rand=function(){var a=Math.floor(Math.random()*(h-1));m(f,a);return a};d[0].height=480;d.width=
640;d[0].style.background=b.back;d[0].style.zIndex=0;d[0].style.position="absolute";var y={context:d[0].getContext("2d"),color:b.color,start:Date.now(),lines:b.lines,cW:b.width,cH:b.height,acW:d[1].width,acH:d[1].height},u=y;k?k.appendChild(d[0]):document.body.appendChild(d[0]);window.setInterval(function(a){var b=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,c=a.color.substr(1);a.context.save();a.context.clearRect(0,0,a.acW,a.acH);a.context.translate(a.acW/2,a.acH/2);a.context.rotate(2*Math.PI*
b);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);for(var b=parseInt(c.substr(0,2),16).toString(),d=parseInt(c.substr(2,2),16).toString(),c=parseInt(c.substr(4,2),16).toString(),e=0;e<a.lines;e++)a.context.beginPath(),a.context.rotate(2*Math.PI/a.lines),a.context.moveTo(a.cW/10,0),a.context.lineTo(a.cW/4,0),a.context.lineWidth=a.cW/30,a.context.strokeStyle="rgba("+b+","+d+","+c+","+e/a.lines+")",a.context.stroke();a.context.restore()},b.rate,y);f=new Image;f.imaginaryID=-1;f.addEventListener("load",
function(){e[this.imaginaryID].loaded?v.clearRect(0,0,this.width,this.height):e[this.imaginaryID].loaded=!0;r();d[1].width=d[0].width=u.acW=this.width;d[1].height=d[0].height=u.acH=this.height;v.drawImage(this,0,0);q=this.imaginaryID;x()},!1);for(b=0;b<e.length;b++)e[b].desig=b?b==e.length-1?1:0:-1,e[b].loaded=!1;for(b=0;b<c.config.imgprebuffer;b++)p.push(new Image),p[b].imaginaryID=-1,p[b].addEventListener("load",g,!1);for(b=0;b<c.config.imgpostbuffer;b++)n.push(new Image),n[b].imaginaryID=-1,n[b].addEventListener("load",
g,!1);d[1].height=480;d[1].width=640;d[1].background=t.back;d[1].style.zIndex=1;d[1].style.position="absolute";k?k.appendChild(d[1]):document.body.appendChild(d[1])};